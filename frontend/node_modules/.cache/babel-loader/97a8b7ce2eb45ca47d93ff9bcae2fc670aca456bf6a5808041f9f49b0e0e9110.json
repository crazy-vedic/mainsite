{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.aliases = exports.pseudos = exports.filters = exports.is = exports.selectOne = exports.selectAll = exports.prepareContext = exports._compileToken = exports._compileUnsafe = exports.compile = void 0;\nvar DomUtils = __importStar(require(\"domutils\"));\nvar boolbase_1 = __importDefault(require(\"boolbase\"));\nvar compile_js_1 = require(\"./compile.js\");\nvar subselects_js_1 = require(\"./pseudo-selectors/subselects.js\");\nvar defaultEquals = function (a, b) {\n  return a === b;\n};\nvar defaultOptions = {\n  adapter: DomUtils,\n  equals: defaultEquals\n};\nfunction convertOptionFormats(options) {\n  var _a, _b, _c, _d;\n  /*\n   * We force one format of options to the other one.\n   */\n  // @ts-expect-error Default options may have incompatible `Node` / `ElementNode`.\n  var opts = options !== null && options !== void 0 ? options : defaultOptions;\n  // @ts-expect-error Same as above.\n  (_a = opts.adapter) !== null && _a !== void 0 ? _a : opts.adapter = DomUtils;\n  // @ts-expect-error `equals` does not exist on `Options`\n  (_b = opts.equals) !== null && _b !== void 0 ? _b : opts.equals = (_d = (_c = opts.adapter) === null || _c === void 0 ? void 0 : _c.equals) !== null && _d !== void 0 ? _d : defaultEquals;\n  return opts;\n}\nfunction wrapCompile(func) {\n  return function addAdapter(selector, options, context) {\n    var opts = convertOptionFormats(options);\n    return func(selector, opts, context);\n  };\n}\n/**\n * Compiles the query, returns a function.\n */\nexports.compile = wrapCompile(compile_js_1.compile);\nexports._compileUnsafe = wrapCompile(compile_js_1.compileUnsafe);\nexports._compileToken = wrapCompile(compile_js_1.compileToken);\nfunction getSelectorFunc(searchFunc) {\n  return function select(query, elements, options) {\n    var opts = convertOptionFormats(options);\n    if (typeof query !== \"function\") {\n      query = (0, compile_js_1.compileUnsafe)(query, opts, elements);\n    }\n    var filteredElements = prepareContext(elements, opts.adapter, query.shouldTestNextSiblings);\n    return searchFunc(query, filteredElements, opts);\n  };\n}\nfunction prepareContext(elems, adapter, shouldTestNextSiblings) {\n  if (shouldTestNextSiblings === void 0) {\n    shouldTestNextSiblings = false;\n  }\n  /*\n   * Add siblings if the query requires them.\n   * See https://github.com/fb55/css-select/pull/43#issuecomment-225414692\n   */\n  if (shouldTestNextSiblings) {\n    elems = appendNextSiblings(elems, adapter);\n  }\n  return Array.isArray(elems) ? adapter.removeSubsets(elems) : adapter.getChildren(elems);\n}\nexports.prepareContext = prepareContext;\nfunction appendNextSiblings(elem, adapter) {\n  // Order matters because jQuery seems to check the children before the siblings\n  var elems = Array.isArray(elem) ? elem.slice(0) : [elem];\n  var elemsLength = elems.length;\n  for (var i = 0; i < elemsLength; i++) {\n    var nextSiblings = (0, subselects_js_1.getNextSiblings)(elems[i], adapter);\n    elems.push.apply(elems, nextSiblings);\n  }\n  return elems;\n}\n/**\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elems Elements to query. If it is an element, its children will be queried..\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns All matching elements.\n *\n */\nexports.selectAll = getSelectorFunc(function (query, elems, options) {\n  return query === boolbase_1.default.falseFunc || !elems || elems.length === 0 ? [] : options.adapter.findAll(query, elems);\n});\n/**\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elems Elements to query. If it is an element, its children will be queried..\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns the first match, or null if there was no match.\n */\nexports.selectOne = getSelectorFunc(function (query, elems, options) {\n  return query === boolbase_1.default.falseFunc || !elems || elems.length === 0 ? null : options.adapter.findOne(query, elems);\n});\n/**\n * Tests whether or not an element is matched by query.\n *\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elem The element to test if it matches the query.\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns\n */\nfunction is(elem, query, options) {\n  var opts = convertOptionFormats(options);\n  return (typeof query === \"function\" ? query : (0, compile_js_1.compile)(query, opts))(elem);\n}\nexports.is = is;\n/**\n * Alias for selectAll(query, elems, options).\n * @see [compile] for supported selector queries.\n */\nexports.default = exports.selectAll;\n// Export filters, pseudos and aliases to allow users to supply their own.\n/** @deprecated Use the `pseudos` option instead. */\nvar index_js_1 = require(\"./pseudo-selectors/index.js\");\nObject.defineProperty(exports, \"filters\", {\n  enumerable: true,\n  get: function () {\n    return index_js_1.filters;\n  }\n});\nObject.defineProperty(exports, \"pseudos\", {\n  enumerable: true,\n  get: function () {\n    return index_js_1.pseudos;\n  }\n});\nObject.defineProperty(exports, \"aliases\", {\n  enumerable: true,\n  get: function () {\n    return index_js_1.aliases;\n  }\n});","map":{"version":3,"names":["DomUtils","__importStar","require","boolbase_1","__importDefault","compile_js_1","subselects_js_1","defaultEquals","a","b","defaultOptions","adapter","equals","convertOptionFormats","options","opts","_a","_b","_d","_c","wrapCompile","func","addAdapter","selector","context","exports","compile","_compileUnsafe","compileUnsafe","_compileToken","compileToken","getSelectorFunc","searchFunc","select","query","elements","filteredElements","prepareContext","shouldTestNextSiblings","elems","appendNextSiblings","Array","isArray","removeSubsets","getChildren","elem","slice","elemsLength","length","i","nextSiblings","getNextSiblings","push","apply","selectAll","default","falseFunc","findAll","selectOne","findOne","is","index_js_1","Object","defineProperty","enumerable","get","filters","pseudos","aliases"],"sources":["https://raw.githubusercontent.com/fb55/css-select/0f0725a9dfeddd2fdb54eda9656cdbab5bbf6be6/src/index.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}