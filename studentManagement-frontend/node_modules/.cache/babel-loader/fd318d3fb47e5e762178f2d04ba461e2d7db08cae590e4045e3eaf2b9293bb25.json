{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getLoad = void 0;\nvar options_js_1 = __importStar(require(\"./options.js\"));\nvar staticMethods = __importStar(require(\"./static.js\"));\nvar cheerio_js_1 = require(\"./cheerio.js\");\nvar utils_js_1 = require(\"./utils.js\");\nfunction getLoad(parse, render) {\n  /**\n   * Create a querying function, bound to a document created from the provided markup.\n   *\n   * Note that similar to web browser contexts, this operation may introduce\n   * `<html>`, `<head>`, and `<body>` elements; set `isDocument` to `false` to\n   * switch to fragment mode and disable this.\n   *\n   * @param content - Markup to be loaded.\n   * @param options - Options for the created instance.\n   * @param isDocument - Allows parser to be switched to fragment mode.\n   * @returns The loaded document.\n   * @see {@link https://cheerio.js.org#loading} for additional usage information.\n   */\n  return function load(content, options, isDocument) {\n    if (isDocument === void 0) {\n      isDocument = true;\n    }\n    if (content == null) {\n      throw new Error('cheerio.load() expects a string');\n    }\n    var internalOpts = __assign(__assign({}, options_js_1.default), (0, options_js_1.flatten)(options));\n    var initialRoot = parse(content, internalOpts, isDocument, null);\n    /** Create an extended class here, so that extensions only live on one instance. */\n    var LoadedCheerio = /** @class */function (_super) {\n      __extends(LoadedCheerio, _super);\n      function LoadedCheerio() {\n        return _super !== null && _super.apply(this, arguments) || this;\n      }\n      LoadedCheerio.prototype._make = function (selector, context) {\n        var cheerio = initialize(selector, context);\n        cheerio.prevObject = this;\n        return cheerio;\n      };\n      LoadedCheerio.prototype._parse = function (content, options, isDocument, context) {\n        return parse(content, options, isDocument, context);\n      };\n      LoadedCheerio.prototype._render = function (dom) {\n        return render(dom, this.options);\n      };\n      return LoadedCheerio;\n    }(cheerio_js_1.Cheerio);\n    function initialize(selector, context, root, opts) {\n      if (root === void 0) {\n        root = initialRoot;\n      }\n      // $($)\n      if (selector && (0, utils_js_1.isCheerio)(selector)) return selector;\n      var options = __assign(__assign({}, internalOpts), (0, options_js_1.flatten)(opts));\n      var r = typeof root === 'string' ? [parse(root, options, false, null)] : 'length' in root ? root : [root];\n      var rootInstance = (0, utils_js_1.isCheerio)(r) ? r : new LoadedCheerio(r, null, options);\n      // Add a cyclic reference, so that calling methods on `_root` never fails.\n      rootInstance._root = rootInstance;\n      // $(), $(null), $(undefined), $(false)\n      if (!selector) {\n        return new LoadedCheerio(undefined, rootInstance, options);\n      }\n      var elements = typeof selector === 'string' && (0, utils_js_1.isHtml)(selector) ?\n      // $(<html>)\n      parse(selector, options, false, null).children : isNode(selector) ?\n      // $(dom)\n      [selector] : Array.isArray(selector) ?\n      // $([dom])\n      selector : undefined;\n      var instance = new LoadedCheerio(elements, rootInstance, options);\n      if (elements) {\n        return instance;\n      }\n      if (typeof selector !== 'string') {\n        throw new Error('Unexpected type of selector');\n      }\n      // We know that our selector is a string now.\n      var search = selector;\n      var searchContext = !context ?\n      // If we don't have a context, maybe we have a root, from loading\n      rootInstance : typeof context === 'string' ? (0, utils_js_1.isHtml)(context) ?\n      // $('li', '<ul>...</ul>')\n      new LoadedCheerio([parse(context, options, false, null)], rootInstance, options) : (\n      // $('li', 'ul')\n      search = \"\".concat(context, \" \").concat(search), rootInstance) : (0, utils_js_1.isCheerio)(context) ?\n      // $('li', $)\n      context :\n      // $('li', node), $('li', [nodes])\n      new LoadedCheerio(Array.isArray(context) ? context : [context], rootInstance, options);\n      // If we still don't have a context, return\n      if (!searchContext) return instance;\n      /*\n       * #id, .class, tag\n       */\n      return searchContext.find(search);\n    }\n    // Add in static methods & properties\n    Object.assign(initialize, staticMethods, {\n      load: load,\n      // `_root` and `_options` are used in static methods.\n      _root: initialRoot,\n      _options: internalOpts,\n      // Add `fn` for plugins\n      fn: LoadedCheerio.prototype,\n      // Add the prototype here to maintain `instanceof` behavior.\n      prototype: LoadedCheerio.prototype\n    });\n    return initialize;\n  };\n}\nexports.getLoad = getLoad;\nfunction isNode(obj) {\n  return !!obj.name || obj.type === 'root' || obj.type === 'text' || obj.type === 'comment';\n}","map":{"version":3,"names":["options_js_1","__importStar","require","staticMethods","cheerio_js_1","utils_js_1","getLoad","parse","render","load","content","options","isDocument","Error","internalOpts","__assign","default","flatten","initialRoot","LoadedCheerio","_super","__extends","prototype","_make","selector","context","cheerio","initialize","prevObject","_parse","_render","dom","Cheerio","root","opts","isCheerio","r","rootInstance","_root","undefined","elements","isHtml","children","isNode","Array","isArray","instance","search","searchContext","concat","find","Object","assign","_options","fn","exports","obj","name","type"],"sources":["https://raw.githubusercontent.com/cheeriojs/cheerio/7b260a2233b112375dbeb261013e142cbe48d81d/src/load.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}