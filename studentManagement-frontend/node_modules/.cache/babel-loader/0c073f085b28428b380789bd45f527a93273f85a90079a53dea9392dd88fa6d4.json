{"ast":null,"code":"\"use strict\";\n\n/* eslint-disable no-extra-parens */\n\n/* eslint-disable no-console */\nvar fs = require('fs');\nvar _process$env = process.env,\n  GOOGLE_IT_TITLE_SELECTOR = _process$env.GOOGLE_IT_TITLE_SELECTOR,\n  GOOGLE_IT_LINK_SELECTOR = _process$env.GOOGLE_IT_LINK_SELECTOR,\n  GOOGLE_IT_SNIPPET_SELECTOR = _process$env.GOOGLE_IT_SNIPPET_SELECTOR,\n  GOOGLE_IT_RESULT_STATS_SELECTOR = _process$env.GOOGLE_IT_RESULT_STATS_SELECTOR,\n  GOOGLE_IT_CURSOR_SELECTOR = _process$env.GOOGLE_IT_CURSOR_SELECTOR,\n  _process$env$GOOGLE_I = _process$env.GOOGLE_IT_INCLUDE_SITES,\n  GOOGLE_IT_INCLUDE_SITES = _process$env$GOOGLE_I === void 0 ? '' : _process$env$GOOGLE_I,\n  _process$env$GOOGLE_I2 = _process$env.GOOGLE_IT_EXCLUDE_SITES,\n  GOOGLE_IT_EXCLUDE_SITES = _process$env$GOOGLE_I2 === void 0 ? '' : _process$env$GOOGLE_I2; // NOTE:\n// I chose the User-Agent value from http://www.browser-info.net/useragents\n// Not setting one causes Google search to not display results\n\nvar defaultUserAgent = 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:34.0) Gecko/20100101 Firefox/34.0';\nvar defaultLimit = 10;\nvar defaultStart = 0;\nvar getFullQuery = function getFullQuery(query) {\n  var includeSites = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : GOOGLE_IT_INCLUDE_SITES;\n  var excludeSites = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : GOOGLE_IT_EXCLUDE_SITES;\n  if (includeSites === '' && excludeSites === '') {\n    return query;\n  }\n  if (includeSites !== '') {\n    var _addition = includeSites.split(',').map(function (site) {\n      return \" site:\".concat(site);\n    }).join(' OR');\n    return query + _addition;\n  }\n  var addition = excludeSites.split(',').map(function (site) {\n    return \" -site:\".concat(site);\n  }).join(' AND');\n  return query + addition;\n};\nvar getDefaultRequestOptions = function getDefaultRequestOptions(_ref) {\n  var limit = _ref.limit,\n    query = _ref.query,\n    userAgent = _ref.userAgent,\n    start = _ref.start,\n    includeSites = _ref.includeSites,\n    excludeSites = _ref.excludeSites;\n  return {\n    url: 'https://www.google.com/search',\n    qs: {\n      q: getFullQuery(query, includeSites, excludeSites),\n      num: limit || defaultLimit,\n      start: start || defaultStart\n    },\n    headers: {\n      'User-Agent': userAgent || defaultUserAgent\n    }\n  };\n};\nvar titleSelector = 'div.Gx5Zad.fP1Qef.xpd.EtOod.pkphOe';\nvar titlefinder = 'div.BNeawe.vvjwJb.AP7Wnd';\nvar linkSelector = 'div.fP1Qef > div:nth-child(1) > a';\nvar snippetSelector = '#main > div > div > div > div:not(.v9i61e) > div.AP7Wnd';\nvar resultStatsSelector = '#resultStats';\nvar cursorSelector = '#nav > tbody > tr > td.cur';\nvar getTitleSelector = function getTitleSelector(passedValue) {\n  return passedValue || GOOGLE_IT_TITLE_SELECTOR || titleSelector;\n};\nvar getLinkSelector = function getLinkSelector(passedValue) {\n  return passedValue || GOOGLE_IT_LINK_SELECTOR || linkSelector;\n};\nvar getSnippetSelector = function getSnippetSelector(passedValue) {\n  return passedValue || GOOGLE_IT_SNIPPET_SELECTOR || snippetSelector;\n};\nvar getResultStatsSelector = function getResultStatsSelector(passedValue) {\n  return passedValue || GOOGLE_IT_RESULT_STATS_SELECTOR || resultStatsSelector;\n};\nvar getResultCursorSelector = function getResultCursorSelector(passedValue) {\n  return passedValue || GOOGLE_IT_CURSOR_SELECTOR || cursorSelector;\n};\nvar logIt = function logIt(message, disableConsole) {\n  if (!disableConsole) {\n    console.log(message);\n  }\n};\nvar saveToFile = function saveToFile(output, results) {\n  if (output !== undefined) {\n    fs.writeFile(output, JSON.stringify(results, null, 2), 'utf8', function (err) {\n      if (err) {\n        console.error(\"Error writing to file \".concat(output, \": \").concat(err));\n      }\n    });\n  }\n};\nvar saveResponse = function saveResponse(response, htmlFileOutputPath) {\n  if (htmlFileOutputPath) {\n    fs.writeFile(htmlFileOutputPath, response.body, function () {\n      console.log(\"Html file saved to \".concat(htmlFileOutputPath));\n    });\n  }\n};\nmodule.exports = {\n  defaultUserAgent: defaultUserAgent,\n  defaultLimit: defaultLimit,\n  defaultStart: defaultStart,\n  getDefaultRequestOptions: getDefaultRequestOptions,\n  getTitleSelector: getTitleSelector,\n  getLinkSelector: getLinkSelector,\n  titleSelector: titleSelector,\n  titlefinder: titlefinder,\n  linkSelector: linkSelector,\n  snippetSelector: snippetSelector,\n  getSnippetSelector: getSnippetSelector,\n  resultStatsSelector: resultStatsSelector,\n  getResultStatsSelector: getResultStatsSelector,\n  getResultCursorSelector: getResultCursorSelector,\n  logIt: logIt,\n  saveToFile: saveToFile,\n  saveResponse: saveResponse,\n  getFullQuery: getFullQuery\n};","map":{"version":3,"names":["fs","require","_process$env","process","env","GOOGLE_IT_TITLE_SELECTOR","GOOGLE_IT_LINK_SELECTOR","GOOGLE_IT_SNIPPET_SELECTOR","GOOGLE_IT_RESULT_STATS_SELECTOR","GOOGLE_IT_CURSOR_SELECTOR","_process$env$GOOGLE_I","GOOGLE_IT_INCLUDE_SITES","_process$env$GOOGLE_I2","GOOGLE_IT_EXCLUDE_SITES","defaultUserAgent","defaultLimit","defaultStart","getFullQuery","query","includeSites","arguments","length","undefined","excludeSites","_addition","split","map","site","concat","join","addition","getDefaultRequestOptions","_ref","limit","userAgent","start","url","qs","q","num","headers","titleSelector","titlefinder","linkSelector","snippetSelector","resultStatsSelector","cursorSelector","getTitleSelector","passedValue","getLinkSelector","getSnippetSelector","getResultStatsSelector","getResultCursorSelector","logIt","message","disableConsole","console","log","saveToFile","output","results","writeFile","JSON","stringify","err","error","saveResponse","response","htmlFileOutputPath","body","module","exports"],"sources":["C:/Users/vedic/node_modules/google-it/lib/utils.js"],"sourcesContent":["\"use strict\";\n\n/* eslint-disable no-extra-parens */\n\n/* eslint-disable no-console */\nvar fs = require('fs');\n\nvar _process$env = process.env,\n    GOOGLE_IT_TITLE_SELECTOR = _process$env.GOOGLE_IT_TITLE_SELECTOR,\n    GOOGLE_IT_LINK_SELECTOR = _process$env.GOOGLE_IT_LINK_SELECTOR,\n    GOOGLE_IT_SNIPPET_SELECTOR = _process$env.GOOGLE_IT_SNIPPET_SELECTOR,\n    GOOGLE_IT_RESULT_STATS_SELECTOR = _process$env.GOOGLE_IT_RESULT_STATS_SELECTOR,\n    GOOGLE_IT_CURSOR_SELECTOR = _process$env.GOOGLE_IT_CURSOR_SELECTOR,\n    _process$env$GOOGLE_I = _process$env.GOOGLE_IT_INCLUDE_SITES,\n    GOOGLE_IT_INCLUDE_SITES = _process$env$GOOGLE_I === void 0 ? '' : _process$env$GOOGLE_I,\n    _process$env$GOOGLE_I2 = _process$env.GOOGLE_IT_EXCLUDE_SITES,\n    GOOGLE_IT_EXCLUDE_SITES = _process$env$GOOGLE_I2 === void 0 ? '' : _process$env$GOOGLE_I2; // NOTE:\n// I chose the User-Agent value from http://www.browser-info.net/useragents\n// Not setting one causes Google search to not display results\n\nvar defaultUserAgent = 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:34.0) Gecko/20100101 Firefox/34.0';\nvar defaultLimit = 10;\nvar defaultStart = 0;\n\nvar getFullQuery = function getFullQuery(query) {\n  var includeSites = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : GOOGLE_IT_INCLUDE_SITES;\n  var excludeSites = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : GOOGLE_IT_EXCLUDE_SITES;\n\n  if (includeSites === '' && excludeSites === '') {\n    return query;\n  }\n\n  if (includeSites !== '') {\n    var _addition = includeSites.split(',').map(function (site) {\n      return \" site:\".concat(site);\n    }).join(' OR');\n\n    return query + _addition;\n  }\n\n  var addition = excludeSites.split(',').map(function (site) {\n    return \" -site:\".concat(site);\n  }).join(' AND');\n  return query + addition;\n};\n\nvar getDefaultRequestOptions = function getDefaultRequestOptions(_ref) {\n  var limit = _ref.limit,\n      query = _ref.query,\n      userAgent = _ref.userAgent,\n      start = _ref.start,\n      includeSites = _ref.includeSites,\n      excludeSites = _ref.excludeSites;\n  return {\n    url: 'https://www.google.com/search',\n    qs: {\n      q: getFullQuery(query, includeSites, excludeSites),\n      num: limit || defaultLimit,\n      start: start || defaultStart\n    },\n    headers: {\n      'User-Agent': userAgent || defaultUserAgent\n    }\n  };\n};\n\nvar titleSelector = 'div.Gx5Zad.fP1Qef.xpd.EtOod.pkphOe';\nvar titlefinder = 'div.BNeawe.vvjwJb.AP7Wnd';\nvar linkSelector = 'div.fP1Qef > div:nth-child(1) > a';\nvar snippetSelector = '#main > div > div > div > div:not(.v9i61e) > div.AP7Wnd';\nvar resultStatsSelector = '#resultStats';\nvar cursorSelector = '#nav > tbody > tr > td.cur';\n\nvar getTitleSelector = function getTitleSelector(passedValue) {\n  return passedValue || GOOGLE_IT_TITLE_SELECTOR || titleSelector;\n};\n\nvar getLinkSelector = function getLinkSelector(passedValue) {\n  return passedValue || GOOGLE_IT_LINK_SELECTOR || linkSelector;\n};\n\nvar getSnippetSelector = function getSnippetSelector(passedValue) {\n  return passedValue || GOOGLE_IT_SNIPPET_SELECTOR || snippetSelector;\n};\n\nvar getResultStatsSelector = function getResultStatsSelector(passedValue) {\n  return passedValue || GOOGLE_IT_RESULT_STATS_SELECTOR || resultStatsSelector;\n};\n\nvar getResultCursorSelector = function getResultCursorSelector(passedValue) {\n  return passedValue || GOOGLE_IT_CURSOR_SELECTOR || cursorSelector;\n};\n\nvar logIt = function logIt(message, disableConsole) {\n  if (!disableConsole) {\n    console.log(message);\n  }\n};\n\nvar saveToFile = function saveToFile(output, results) {\n  if (output !== undefined) {\n    fs.writeFile(output, JSON.stringify(results, null, 2), 'utf8', function (err) {\n      if (err) {\n        console.error(\"Error writing to file \".concat(output, \": \").concat(err));\n      }\n    });\n  }\n};\n\nvar saveResponse = function saveResponse(response, htmlFileOutputPath) {\n  if (htmlFileOutputPath) {\n    fs.writeFile(htmlFileOutputPath, response.body, function () {\n      console.log(\"Html file saved to \".concat(htmlFileOutputPath));\n    });\n  }\n};\n\nmodule.exports = {\n  defaultUserAgent: defaultUserAgent,\n  defaultLimit: defaultLimit,\n  defaultStart: defaultStart,\n  getDefaultRequestOptions: getDefaultRequestOptions,\n  getTitleSelector: getTitleSelector,\n  getLinkSelector: getLinkSelector,\n  titleSelector: titleSelector,\n  titlefinder: titlefinder,\n  linkSelector: linkSelector,\n  snippetSelector: snippetSelector,\n  getSnippetSelector: getSnippetSelector,\n  resultStatsSelector: resultStatsSelector,\n  getResultStatsSelector: getResultStatsSelector,\n  getResultCursorSelector: getResultCursorSelector,\n  logIt: logIt,\n  saveToFile: saveToFile,\n  saveResponse: saveResponse,\n  getFullQuery: getFullQuery\n};"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}